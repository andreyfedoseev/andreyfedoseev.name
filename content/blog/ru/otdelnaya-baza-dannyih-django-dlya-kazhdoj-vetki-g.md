Title: Отдельная база данных в Django для каждой ветки git
Date: 2011-07-28T11:27:00
Tags: django, git, postgresql
Slug: 45
Feed: false

В работе с Django я часто сталкиваюсь с такой ситуацией: создаю ветку, в которой хочу поменять структуру базы, добавить или удалить модели. При этом существует вероятность, что в процессе работы над этой веткой мне понадобится переключиться на другую ветку, которая завязана на другую структуру данных.

Было бы хорошо, чтобы для определённых веток создавались отдельные копии базы и чтобы всё это работало автоматически.

Я написал небольшой сниппет, который позволяет использовать отдельную базу данных для определённых веток git.

<!-- more -->

Он работает только с PostgreSQL. При этом можно указать ветки, для которых нужно создавать копии. Для всех остальных веток используется дефолтная база. Базы создаются автоматически на основе текущего состояния дефолтной базы.

Всё, что нужно, это добавить следующий код в ваш файл с настройками Django (`settings.py`):

<script src="https://gist.github.com/1111802.js?file=local_settings.py"></script>
